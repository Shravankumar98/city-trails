---
import MainLayout from "../../layouts/MainLayout.astro";
import { places } from "../../data/places.js";
import InfoCard from "../../components/ui/InfoCard.astro";
import Fact from "../../components/ui/Fact.astro";


export async function getStaticPaths() {
  return places.map((place) => ({
    params: { slug: place.slug },
  }));
}

const { slug } = Astro.params;
const place = places.find((p) => p.slug === slug);

if (!place) {
  return Astro.redirect("/404");
}

const shortDescription =
  place.description.length > 160
    ? place.description.slice(0, 160) + "‚Ä¶"
    : place.description;
---

<MainLayout
  title={`${place.name} ‚Äì Bangalore Tourism`}
  description={shortDescription}
  image={place.image}
>

<!-- ================= HERO ================= -->
<section class="relative">
  <div class="relative h-[60vh] min-h-[420px]">
    <img
      src={place.image || "/placeholder.svg"}
      alt={place.name}
      class="h-full w-full object-cover"
    />
    <div class="absolute inset-0 bg-black/50" />
  </div>

  <div class="absolute inset-0 flex items-end">
    <div class="mx-auto w-full max-w-5xl px-6 pb-10">
      <span class="mb-3 inline-block rounded-full bg-orange-600/90 px-4 py-1 text-sm font-medium text-white">
        {place.category}
      </span>

      <h1 class="mb-4 text-3xl sm:text-4xl md:text-5xl font-bold text-white">
        {place.name}
      </h1>

      <p class="max-w-2xl text-base sm:text-lg text-gray-200">
        {shortDescription}
      </p>
    </div>
  </div>
</section>

<!-- ================= CONTENT ================= -->
<article class="mx-auto max-w-5xl px-6 py-14 space-y-14">

  <!-- ===== Overview ===== -->
  <section>
    <h2 class="mb-4 text-2xl font-bold text-gray-900">Overview</h2>
    <p class="leading-relaxed text-base sm:text-lg text-gray-700">
      {place.description}
    </p>
  </section>

  <!-- ===== Info Grid ===== -->
  <section class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
    <InfoCard title="üìç Location" value={place.location} />
    <InfoCard title="‚è∞ Best Time to Visit" value={place.bestTime} />
    <InfoCard title="üéüÔ∏è Entry Fee" value={place.entryFee} />
  </section>

  <!-- ===== Map CTA ===== -->
  <section class="rounded-2xl bg-orange-50 p-6 sm:p-8 text-center">
    <h3 class="mb-3 text-xl font-semibold text-gray-900">
      Find {place.name} on Map
    </h3>
    <p class="mb-5 text-gray-600">
      Get real-time directions and explore nearby attractions.
    </p>

    <a
      href={place.mapLink}
      target="_blank"
      rel="noopener noreferrer"
      class="inline-flex items-center gap-2 rounded-lg bg-orange-600 px-6 py-3 font-semibold text-white hover:bg-orange-700"
    >
      Open in Google Maps ‚Üí
    </a>
  </section>

  <!-- ===== Back CTA ===== -->
  <div class="text-center pt-6">
    <a
      href="/places"
      class="inline-flex items-center gap-2 rounded-lg bg-gray-900 px-6 py-3 font-semibold text-white hover:bg-gray-800"
    >
      ‚Üê Explore More Places
    </a>
  </div>

</article>

</MainLayout>